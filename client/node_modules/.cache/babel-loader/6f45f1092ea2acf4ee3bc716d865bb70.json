{"ast":null,"code":"import _classCallCheck from \"/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/src/pages/NotePage.js\";\nimport React, { Component } from \"react\";\nimport NoteAPI from \"../utils/NoteAPI\"; //import Note from \"../components/Note\";\n\nvar NotePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NotePage, _Component);\n\n  function NotePage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NotePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NotePage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userNotes: [],\n      username: \"\"\n    };\n\n    _this.loadUserNotes = function () {\n      console.log(\"STATE: \", _this.state);\n      NoteAPI.userNotes(_this.state.username).then(function (userNotes) {\n        return _this.setState({\n          userNotes: userNotes\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    };\n\n    _this.handleDelete = function (id) {\n      NoteAPI.deleteNote(id).then(function (res) {\n        return _this.loadUserNotes();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(NotePage, [{\n    key: \"getUsername\",\n    value: function getUsername() {\n      var _this2 = this;\n\n      var username = localStorage.getItem(\"username\"); // after username is set in the state, call function to load the books related to this user.\n\n      this.setState({\n        username: username\n      }, function () {\n        return _this2.loadUserNotes();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsername();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container saved-materials bg-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Your Saved Notes\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, this.state.userNotes.map(function (result) {\n        return React.createElement(\"div\", {\n          className: \"card mb-3 border\",\n          key: result._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: \"card-title text-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, result.title), React.createElement(\"p\", {\n          className: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, result.comment), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: result.link,\n          className: \"btn badge-pill btn-outline-dark mt-3\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"View\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.handleDelete(result._id);\n          },\n          className: \"btn badge-pill btn-outline-info mt-3 ml-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Delete\"))))));\n      })));\n    }\n  }]);\n\n  return NotePage;\n}(Component);\n\nexport default NotePage;","map":{"version":3,"sources":["/Users/karlelisawesley/Documents/HavardBootcamp/Project3/knowledge-able-app-final/client/src/pages/NotePage.js"],"names":["React","Component","NoteAPI","NotePage","state","userNotes","username","loadUserNotes","console","log","then","setState","catch","err","error","handleDelete","id","deleteNote","res","localStorage","getItem","getUsername","map","result","_id","title","comment","link"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport NoteAPI from \"../utils/NoteAPI\";\n//import Note from \"../components/Note\";\n\nclass NotePage extends Component {\n  state = {\n    userNotes: [],\n    username: \"\"\n  };\n\n  getUsername() {\n    const username = localStorage.getItem(\"username\");\n    // after username is set in the state, call function to load the books related to this user.\n    this.setState({ username: username }, () => this.loadUserNotes());\n  }\n\n  componentDidMount() {\n    this.getUsername();\n  }\n\n  loadUserNotes = () => {\n    console.log(\"STATE: \", this.state);\n    NoteAPI.userNotes(this.state.username)\n      .then(userNotes => this.setState({ userNotes: userNotes }))\n      .catch(err => console.error(err));\n  };\n\n  handleDelete = id => {\n    NoteAPI.deleteNote(id)\n      .then(res => this.loadUserNotes())\n      .catch(err => console.log(err));\n  };\n  render() {\n    return (\n      <div className=\"container saved-materials bg-info\">\n        <h2 className=\"text-center\">Your Saved Notes</h2>\n        <br />\n        {/* <img src=\"...\" className=\"img-fluid\" alt=\"Responsive image\"></img> */}\n        <div>\n          {this.state.userNotes.map(result => (\n            <div className=\"card mb-3 border\" key={result._id}>\n              <div className=\"row\">\n                {/* <div className=\"col-md-2\">\n                  <img\n                    alt={result.title}\n                    className=\"img-fluid align-self-center mr-3\"\n                    src={result.image}\n                  />\n                </div> */}\n                <div className=\"col-md-10\">\n                  <div className=\"card-body\">\n                    <h4 className=\"card-title text-info\">{result.title}</h4>\n                    <p className=\"card-text\">{result.comment}</p>\n                    <div>\n                      <a\n                        href={result.link}\n                        className=\"btn badge-pill btn-outline-dark mt-3\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        View\n                      </a>\n                      <button\n                        onClick={() => this.handleDelete(result._id)}\n                        className=\"btn badge-pill btn-outline-info mt-3 ml-3\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NotePage;\n"]},"metadata":{},"sourceType":"module"}